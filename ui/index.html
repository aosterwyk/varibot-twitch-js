<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>VariBot</title>
    <!-- MDB icon -->
    <link rel="icon" href="img/icon.png" type="image/x-icon" />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"
    />
    <!-- Google Fonts Roboto -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
    />
    <!-- Dark MDB theme -->
    <link rel="stylesheet" href="css/mdb.dark.min.css" />
    <!-- Regular MDB theme -->
    <!-- <link rel="stylesheet" href="css/mdb.min.css" /> -->
  </head>
  <body>
    <!-- Start your project here-->
        <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <!-- Container wrapper -->
      <div class="container-fluid">
        <!-- Toggle button -->
        <button
          class="navbar-toggler"
          type="button"
          data-mdb-toggle="collapse"
          data-mdb-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <i class="fas fa-bars"></i>
        </button>

        <!-- Collapsible wrapper -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <!-- Navbar brand -->
          <a class="navbar-brand mt-2 mt-lg-0" href="#">
            <img
              src="img/icon.png"
              height="25"
              alt="VariBot"
              loading="lazy"
            />
          </a>
          <!-- Left links -->
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" onclick="showPage('home')">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" onclick="showPage('settings')">Settings</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" onclick="showPage('pointsSounds')">Sounds</a>
            </li>            
            <li class="nav-item">
              <a class="nav-link" onclick="showPage('pointsHue')">Hue</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" onclick="showPage('about')">About</a>
            </li>            

          </ul>
          <!-- Left links -->
        </div>
        <!-- Collapsible wrapper -->

        <!-- Right elements -->
        <div class="d-flex align-items-center">
          <!-- Connection Status -->
          <div class="dropdown">
            <a
              class="text-reset me-3 dropdown-toggle hidden-arrow"
              href="#"
              id="navbarDropdownMenuLink"
              role="button"
              data-mdb-toggle="dropdown"
              aria-expanded="false"
            >
              <!-- <i class="fas fa-bell"></i> -->
              <i class="fas fa-wifi"></i>
              <!-- <span class="badge rounded-pill badge-notification bg-danger">1</span> -->
            </a>
            <ul
              class="dropdown-menu dropdown-menu-end"
              aria-labelledby="navbarDropdownMenuLink"
            >
              <li>
                <span class="dropdown-item" id="chatBotStatusIcon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="grey" class="bi bi-question-circle-fill" viewBox="0 0 20 20">
                  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"/>
                </svg> Chat bot</span>
              </li>
              <li>
                <span class="dropdown-item" id="pubsubStatusIcon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="grey" class="bi bi-question-circle-fill" viewBox="0 0 20 20">
                  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"/>
                </svg> Pubsub</span>
              </li>
              <!-- <li>
                <a class="dropdown-item" href="#">Something else here</a>
              </li> -->
            </ul>
          </div>
          <!-- Help -->
          <div class="dropdown">
            <a
              class="text-reset me-3 dropdown-toggle hidden-arrow"
              href="#"
              id="navbarDropdownMenuLink"
              role="button"
              data-mdb-toggle="dropdown"
              aria-expanded="false"
            >
              <i class="fas fa-question"></i>
            </a>
            <ul
              class="dropdown-menu dropdown-menu-end"
              aria-labelledby="navbarDropdownMenuLink"
            >
              <li>
                <span class="dropdown-item" onclick="externalLink('discord')">Discord</span>
              </li>
              <li>
                <a class="dropdown-item" onclick="externalLink('wiki')"">Wiki</a>
              </li>
            </ul>
          </div>

          <!-- Notifications -->
          <!-- <div class="dropdown">
            <a
              class="text-reset me-3 dropdown-toggle hidden-arrow"
              href="#"
              id="navbarDropdownMenuLink"
              role="button"
              data-mdb-toggle="dropdown"
              aria-expanded="false"
            >
              <i class="fas fa-bell"></i>
              <span class="badge rounded-pill badge-notification bg-danger">1</span>
            </a>
            <ul
              class="dropdown-menu dropdown-menu-end"
              aria-labelledby="navbarDropdownMenuLink"
            >
              <li>
                <span class="dropdown-item" href="#">Some news</span>
              </li>
              <li>
                <a class="dropdown-item" href="#">Another news</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Something else here</a>
              </li>
            </ul>
          </div> -->
          <!-- Avatar -->
          <div class="dropdown">
            <!-- <a
              class="dropdown-toggle d-flex align-items-center hidden-arrow"
              href="#"
              id="navbarDropdownMenuAvatar"
              role="button"
              data-mdb-toggle="dropdown"
              aria-expanded="false"
            > -->
              <img class="dropdown-toggle d-flex align-items-center hidden-arrow"
                id="userAvatar" 
                src="img/icon.png"
                height="25"
                loading="lazy"
              /> 
              <!-- <img
                src="https://mdbcdn.b-cdn.net/img/new/avatars/2.webp"
                class="rounded-circle"
                height="25"
                alt="Black and White Portrait of a Man"
                loading="lazy"
              />  -->
              <!-- TODO twitch channel logo -->
            <!-- </a> -->
            <!-- <ul
              class="dropdown-menu dropdown-menu-end"
              aria-labelledby="navbarDropdownMenuAvatar"
            >
              <li>
                <a class="dropdown-item" href="#">My profile</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Settings</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Logout</a>
              </li>
            </ul> -->
          </div>
        </div>
        <!-- Right elements -->
      </div>
      <!-- Container wrapper -->
    </nav>
    <!-- Navbar -->
    <main>
      <div class="container-fluid px-4">
          <div class="alert alert-success alert-dismissible fade show mt-4" role="alert" id="alertBox" style="display:none">
              <span id="alertBoxText">this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message this is a really long error message </span>
              <br /><button type="button" class="close" data-dismiss="alert" onclick="alertMsg(false,'','',)">
                <span aria-hidden="true">&times;</span>
              </button>
          </div>      
          <div id="home">    
              <div class="card my-4">
                  <div class="card-header">
                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-card-checklist" viewBox="0 0 18 18">
                          <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
                          <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>
                      </svg> Recent
                  </div>
                  <div class="card-body" style="height:125px; overflow:auto;">
                      <!-- <ul class="list-group list-group-flush" id="recentList">
                          <li class="list-group-item"><small></small></li>
                      </ul>                                 -->
                      <table>
                          <tbody id="recentList">
                          </tbody>
                      </table>
                  </div>                                
              </div>
              <div class="card mb-4">
                  <div class="card-header">
                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-volume-up-fill" viewBox="0 0 18 18">
                          <path d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"/>
                          <path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"/>
                          <path d="M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"/>
                      </svg> Soundboard
                  </div>
                  <div class="card-body" id="soundboard">
                  </div>
                  <div class="card-footer">
                      <button class="btn btn-primary btn-sm mx-1" onclick="updateSoundsList()"><svg class="bi bi-arrow-clockwise" width="1em" height="1em" viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M3.17 6.706a5 5 0 0 1 7.103-3.16.5.5 0 1 0 .454-.892A6 6 0 1 0 13.455 5.5a.5.5 0 0 0-.91.417 5 5 0 1 1-9.375.789z"/>
                          <path fill-rule="evenodd" d="M8.147.146a.5.5 0 0 1 .707 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 1 1-.707-.708L10.293 3 8.147.854a.5.5 0 0 1 0-.708z"/>
                      </svg> Reload Sounds</button><button class="btn btn-primary btn-sm mx-1" onclick="openDir('sounds')"><svg class="bi bi-folder-symlink" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path d="M9.828 4a3 3 0 0 1-2.12-.879l-.83-.828A1 1 0 0 0 6.173 2H2.5a1 1 0 0 0-1 .981L1.546 4h-1L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3v1z"/>
                      <path fill-rule="evenodd" d="M13.81 4H2.19a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4zM2.19 3A2 2 0 0 0 .198 5.181l.637 7A2 2 0 0 0 2.826 14h10.348a2 2 0 0 0 1.991-1.819l.637-7A2 2 0 0 0 13.81 3H2.19z"/>
                      <path d="M8.616 10.24l3.182-1.969a.443.443 0 0 0 0-.742l-3.182-1.97c-.27-.166-.616.036-.616.372V6.7c-.857 0-3.429 0-4 4.8 1.429-2.7 4-2.4 4-2.4v.769c0 .336.346.538.616.371z"/>
                      </svg> Open Sounds Folder</button>
                  </div>
              </div>
          </div>
          <div id="settings">
              <div class="card my-4">
                  <div class="card-header">General Settings</div>              
                  <div class="card-body">
                      <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                      <path d="M5.25 6.033h1.32c0-.781.458-1.384 1.36-1.384.685 0 1.313.343 1.313 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.007.463h1.307v-.355c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.326 0-2.786.647-2.754 2.533zm1.562 5.516c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
                      </svg></h4>
                      <!-- <form id="settingsForm"> -->
                      <div class="form-group mb-2">
                          <label for="botUsername">Username</label>
                          <input type="text" class="form-control" id="botUsername" placeholder="Enter username">
                          <small id="botUsernameHelp" class="form-text text-muted">Username used by the bot</small>
                      </div>
                      <div class="form-group my-4">
                          <label for="botToken">Token</label>
                          <input type="password" class="form-control" id="botToken" placeholder="Enter token">
                          <small id="botTokenHelp" class="form-text text-muted">Token (not password) used for the bot. See below for link to get token.</small>
                      </div>
                      <div class="form-group my-4">
                          <label for="clientId">Client ID</label>
                          <input type="text" class="form-control" id="clientId" placeholder="Enter client ID" value="rq2a841j8f63fndu5lnbwzwmbzamoy">
                          <small id="clientIdHelp" class="form-text text-muted">Client ID for the bot. If you don't know what this is you can leave it as default. (Default: rq2a841j8f63fndu5lnbwzwmbzamoy)</small>
                      </div>              
                      <div class="form-group my-4">
                          <label for="channel">Channel</label>
                          <input type="text" class="form-control" id="channel" placeholder="Enter channel">
                          <small id="channelHelp" class="form-text text-muted">Channel for the bot to join. Do not include #. (ex: varixx)</small>
                      </div>      
                      <button class="btn btn-primary btn-sm mx-1" onclick="saveSettingsFromForm()">Save</button><button class="btn btn-danger btn-sm mx-1" onclick="externalLink('token')">Get Token</button><button class="btn btn-dark btn-sm mx-1" onclick="openDir('configs')">Open Conifgs Folder</button>
                  </div>  
              </div>
              <div class="card my-4">
                  <div class="card-header">Commands</div>
                  <div class="card-body">
                      <ul class="list-unstyled" id="commandsSettingsList">
                          <!-- <li class="my-1"><input class="mx-2" type="checkbox" checked id="cmdStatus">Command</li>
                          <li class="my-1"><input class="mx-2" type="checkbox" id="cmdStatus">Command</li> -->
                      </ul>
                      <button class="btn btn-primary btn-sm" onclick="saveSettingsFromForm()">Save</button>                            
                  </div>
              </div>
              <div class="card my-4">
                  <div class="card-header">Google Spreadsheets Settings</div>              
                  <div class="card-body">
                      <!-- <h4 class="card-title">Google Spreadsheets Settings <svg width=".75em" height=".75em" viewBox="0 0 16 16" class="bi bi-question-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg" onclick="externalLink('googleSheetsHelp')"> -->
                          <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                          <path d="M5.25 6.033h1.32c0-.781.458-1.384 1.36-1.384.685 0 1.313.343 1.313 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.007.463h1.307v-.355c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.326 0-2.786.647-2.754 2.533zm1.562 5.516c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
                      </svg></h4>
                      <div class="form-group mb-2">
                          <label for="beatSpreadSheetUrl">Completed games spreadsheet URL</label>
                          <input type="text" class="form-control" id="beatSpreadSheetUrl" placeholder="https://docs.google.com/spreadsheets/d/<spreadsheet-id>/edit#gid=<worksheet-id>">
                          <small id="beatSpreadSheetUrlHelp" class="form-text text-muted">Full URL of completed games spreadsheet in Google Drive.</small>              
                      </div>              
                      <div class="form-group my-4">
                          <label for="beatGameSound">Beat game sound</label>
                          <input type="text" class="form-control" id="beatGameSound" placeholder="Enter filename">
                          <small id="beatGameSoundHelp" class="form-text text-muted">Sound played after adding game to completed games spreadsheet. This must be in the sounds directory listed above. Filename (including .mp3) only.</small>
                      </div>     
                      <!-- </form><button class="btn btn-primary btn-sm" onclick="saveSettingsFromForm()">Save</button><button class="btn btn-danger btn-sm mx-1" onclick="externalLink('token')">Get Token</button><button class="btn btn-dark btn-sm" id="googleCredsUploadButton" onclick="loadGoogleCredsFile()">Save Google Creds File</button> -->
                      <button class="btn btn-primary btn-sm" onclick="saveSettingsFromForm()">Save</button><button class="btn btn-dark btn-sm mx-2" id="googleCredsUploadButton" onclick="openGoogleCredsFile()">Open Google Creds File</button>
                  </div>  
              </div>                                         
          </div>
          <div id="pointsSounds">
              <div class="card my-4">
                  <div class="card-header">
                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-speaker-fill" viewBox="0 0 18 18">
                          <path d="M9 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-2.5 6.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0z"/>
                          <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm6 4a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 7a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7z"/>
                          </svg> Sounds
                  </div>
                  <div class="card-body">
                      <button class="btn btn-primary btn-sm mb-2 mx-1" onclick="saveSoundsForm()">Save</button><button class="btn btn-dark btn-sm mb-2 mx-1" onclick="openDir('sounds')"><svg class="bi bi-folder-symlink" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path d="M9.828 4a3 3 0 0 1-2.12-.879l-.83-.828A1 1 0 0 0 6.173 2H2.5a1 1 0 0 0-1 .981L1.546 4h-1L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3v1z"/>
                      <path fill-rule="evenodd" d="M13.81 4H2.19a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4zM2.19 3A2 2 0 0 0 .198 5.181l.637 7A2 2 0 0 0 2.826 14h10.348a2 2 0 0 0 1.991-1.819l.637-7A2 2 0 0 0 13.81 3H2.19z"/>
                      <path d="M8.616 10.24l3.182-1.969a.443.443 0 0 0 0-.742l-3.182-1.97c-.27-.166-.616.036-.616.372V6.7c-.857 0-3.429 0-4 4.8 1.429-2.7 4-2.4 4-2.4v.769c0 .336.346.538.616.371z"/>
                      </svg> Open Sounds Folder</button><button class="btn btn-dark btn-sm mb-2 mx-1" onclick="populateSettings('pointsSounds')"><svg class="bi bi-arrow-clockwise" width="1em" height="1em" viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M3.17 6.706a5 5 0 0 1 7.103-3.16.5.5 0 1 0 .454-.892A6 6 0 1 0 13.455 5.5a.5.5 0 0 0-.91.417 5 5 0 1 1-9.375.789z"/>
                          <path fill-rule="evenodd" d="M8.147.146a.5.5 0 0 1 .707 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 1 1-.707-.708L10.293 3 8.147.854a.5.5 0 0 1 0-.708z"/>
                      </svg> Reload Channel Rewards<button class="btn btn-dark btn-sm mb-2 mx-1" onclick="externalLink('manageRewards')">Manage Channel Rewards</button>
                      <table class="table table-striped table-dark">
                          <theader><tr><td colspan="2">Reward Name</td><td>Sound</td><td>Multiple</td></tr></theader>
                          <tbody id="channelRewardsTable">
                          </tbody>
                      </table>
                  </div>
                  <div class="card-footer">
                      <button class="btn btn-primary btn-sm mb-2 mx-1" onclick="saveSoundsForm()">Save</button><button class="btn btn-dark btn-sm mb-2 mx-1" onclick="openDir('sounds')"><svg class="bi bi-folder-symlink" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                          <path d="M9.828 4a3 3 0 0 1-2.12-.879l-.83-.828A1 1 0 0 0 6.173 2H2.5a1 1 0 0 0-1 .981L1.546 4h-1L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3v1z"/>
                          <path fill-rule="evenodd" d="M13.81 4H2.19a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4zM2.19 3A2 2 0 0 0 .198 5.181l.637 7A2 2 0 0 0 2.826 14h10.348a2 2 0 0 0 1.991-1.819l.637-7A2 2 0 0 0 13.81 3H2.19z"/>
                          <path d="M8.616 10.24l3.182-1.969a.443.443 0 0 0 0-.742l-3.182-1.97c-.27-.166-.616.036-.616.372V6.7c-.857 0-3.429 0-4 4.8 1.429-2.7 4-2.4 4-2.4v.769c0 .336.346.538.616.371z"/>
                          </svg> Open Sounds Folder</button><button class="btn btn-dark btn-sm mb-2 mx-1" onclick="populateSettings('channelPoints')"><svg class="bi bi-arrow-clockwise" width="1em" height="1em" viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" d="M3.17 6.706a5 5 0 0 1 7.103-3.16.5.5 0 1 0 .454-.892A6 6 0 1 0 13.455 5.5a.5.5 0 0 0-.91.417 5 5 0 1 1-9.375.789z"/>
                              <path fill-rule="evenodd" d="M8.147.146a.5.5 0 0 1 .707 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 1 1-.707-.708L10.293 3 8.147.854a.5.5 0 0 1 0-.708z"/>
                          </svg> Reload Channel Rewards<button class="btn btn-dark btn-sm mb-2 mx-1" onclick="externalLink('manageRewards')">Manage Channel Rewards</button>
                  </div>
              </div>                                 
          </div>
          <div id="pointsHue">
              <div class="card my-4" id="hueBridgeIPSettings">
                  <div class="card-header">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hdd-network-fill" viewBox="0 0 16 16">
                          <path d="M2 2a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h5.5v3A1.5 1.5 0 0 0 6 11.5H.5a.5.5 0 0 0 0 1H6A1.5 1.5 0 0 0 7.5 14h1a1.5 1.5 0 0 0 1.5-1.5h5.5a.5.5 0 0 0 0-1H10A1.5 1.5 0 0 0 8.5 10V7H14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2zm.5 3a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm2 0a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1z"/>
                          </svg> Hue Bridge Settings
                  </div>
                  <div class="card-body">
                      <div class="row justify-content-md-center" id="hueBridgeIPSettings">
                          <div class="col col-lg-6">
                              <input type="text" class="form-control" id="hueBridgeIP" placeholder="Hue Bridge IP">
                          </div>
                          <div class="col col-lg-2">
                              <button class="btn btn-primary" onclick="saveHueBridgeIP()">Save Bridge IP</button>
                          </div>
                      </div>                                        
                      <div class="row justify-content-center my-4" id="hueBridgeConnectSetttings" style="display: none;">
                          <div class="col text-center">
                              <p class="text-center" id="hueBridgeCreateUserMsg">Press link button on bridge and click create user button below.</p>
                              <button class="btn btn-sm btn-success" id="hueBridgeCreateUserButton" onclick="createHueBridgeUser()">Create User</button>
                          </div>
                      </div>                                        
                  </div>
              </div>
              <div class="card my-4" id="hueBridgeRewardSettings" style="display: none;">
                  <div class="card-header">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gift-fill" viewBox="0 0 16 16">
                          <path d="M3 2.5a2.5 2.5 0 0 1 5 0 2.5 2.5 0 0 1 5 0v.006c0 .07 0 .27-.038.494H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2.038A2.968 2.968 0 0 1 3 2.506V2.5zm1.068.5H7v-.5a1.5 1.5 0 1 0-3 0c0 .085.002.274.045.43a.522.522 0 0 0 .023.07zM9 3h2.932a.56.56 0 0 0 .023-.07c.043-.156.045-.345.045-.43a1.5 1.5 0 0 0-3 0V3zm6 4v7.5a1.5 1.5 0 0 1-1.5 1.5H9V7h6zM2.5 16A1.5 1.5 0 0 1 1 14.5V7h6v9H2.5z"/>
                          </svg> Rewards
                  </div>
                  <div class="card-body">
                      <button class="btn btn-primary btn-sm mb-2 mx-1" onclick="saveHueSettings()">Save Hue Settings</button><button class="btn btn-dark btn-sm mb-2 mx-1" onclick="populateSettings('pointsHue')"><svg class="bi bi-arrow-clockwise" width="1em" height="1em" viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M3.17 6.706a5 5 0 0 1 7.103-3.16.5.5 0 1 0 .454-.892A6 6 0 1 0 13.455 5.5a.5.5 0 0 0-.91.417 5 5 0 1 1-9.375.789z"/>
                          <path fill-rule="evenodd" d="M8.147.146a.5.5 0 0 1 .707 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 1 1-.707-.708L10.293 3 8.147.854a.5.5 0 0 1 0-.708z"/>
                      </svg> Reload Channel Rewards<button class="btn btn-dark btn-sm mb-2 mx-1" onclick="externalLink('manageRewards')">Manage Channel Rewards</button>                                                                        
                      <p>Select the reward to use with the lights enabled below. <a class="text-decoration-none" onclick="lightHelpList('show')">Click here</a> for info on reward types</p>
                      <span class="my-2" id="lightHelpList" style="display:none;">
                          <strong class="text-info">None</strong> Disabled<br>
                          <strong class="text-info">Static color</strong> Changes lights to a color. Enter the color in the text box that appears when selecting this option.<br>
                          <strong class="text-info">User color</strong> Changes light to a color set by user. ("Require Viewer to Enter Text" must be enabled on edit custom rewards page)<br>
                          <strong class="text-info">Flash lights</strong> Flashes lights random colors.<br>
                          <strong class="text-info">Fade random colors</strong> Fades between random colors.<br>
                          <strong class="text-info">Random color</strong> Changes lights random colors.<br>
                          <strong class="text-info">Color loop</strong> Loops colors<br>
                      </span>
                      <table class="table table-striped table-dark my-2">
                          <theader><tr><td colspan="2">Reward Name</td><td colspan="2">Effect</td></tr></theader>
                          <tbody id="hueRewardsTable">
                              <!-- <tr><td>reward picture</td><td>Test reward</td><td><select class="custom-select">
                                  <option value="none" selected>None</option>
                                  <option value="staticColor">Static color</option>
                                  <option value="flash">Flash lights</option>
                                  <option value="fadeColors">Fade random colors</option>
                                  <option value="randomColor">Random color</option>
                              </select></td>
                              <td><input type="text" id="lightStaticColor" placeholder="Static color (hide unless static color is selected)"></td>
                              </tr>
                              <tr><td>reward picture</td><td>Test reward</td><td><select class="custom-select">
                                  <option value="none" selected>None</option>
                                  <option value="staticColor">Static color</option>
                                  <option value="flash">Flash lights</option>
                                  <option value="fadeColors">Fade random colors</option>
                                  <option value="randomColor">Random color</option>
                              </select></td>
                              <td></td>
                              </tr>
                              <tr><td>reward picture</td><td>Test reward</td><td><select class="custom-select">
                                  <option value="none" selected>None</option>
                                  <option value="staticColor">Static color</option>
                                  <option value="flash">Flash lights</option>
                                  <option value="fadeColors">Fade random colors</option>
                                  <option value="randomColor">Random color</option>
                              </select></td>
                              <td></td>
                              </tr> -->
                          </tbody>
                      </table>                                       
                  </div>
                  <div class="card-footer">
                      <div class="col my-1"><button class="btn btn-primary btn-sm mb-2 mx-1" onclick="saveHueSettings()">Save Hue Settings</button><button class="btn btn-dark btn-sm mb-2 mx-1" onclick="populateSettings('pointsHue')"><svg class="bi bi-arrow-clockwise" width="1em" height="1em" viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M3.17 6.706a5 5 0 0 1 7.103-3.16.5.5 0 1 0 .454-.892A6 6 0 1 0 13.455 5.5a.5.5 0 0 0-.91.417 5 5 0 1 1-9.375.789z"/>
                          <path fill-rule="evenodd" d="M8.147.146a.5.5 0 0 1 .707 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 1 1-.707-.708L10.293 3 8.147.854a.5.5 0 0 1 0-.708z"/>
                      </svg> Reload Channel Rewards<button class="btn btn-dark btn-sm mb-2 mx-1" onclick="externalLink('manageRewards')">Manage Channel Rewards</button></div>
                  </div>                                    
              </div>                                
              <div class="card my-4" id="hueBridgeLightsSettings" style="display: none;">
                  <div class="card-header">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lightbulb-fill" viewBox="0 0 16 16">
                          <path d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13h-5a.5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm3 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1-.5-.5z"/>
                          </svg> Lights                                        
                  </div>
                  <div class="card-body">
                      <p>Select lights to be used with channel point rewards</p>
                      <table class="table table-striped table-dark my-2">
                          <theader><tr><td>Light</td><td colspan="2">Enabled</td></tr></theader>
                          <tbody id="hueLightsTable">                                            
                              <!-- <tr><td>Office light 1</td><td><input type="checkbox"></td></tr>
                              <tr><td>Office light 1</td><td><input type="checkbox"></td></tr>
                              <tr><td>Office light 1</td><td><input type="checkbox"></td></tr>
                              <tr><td>Office light 1</td><td><input type="checkbox"></td></tr>
                              <tr><td>Office light 1</td><td><input type="checkbox"></td></tr>
                              <tr><td>Office light 1</td><td><input type="checkbox"></td></tr>
                              <tr><td>Office light 1</td><td><input type="checkbox"></td></tr> -->
                          </tbody>
                      </table>
                  </div>
                  <div class="card-footer">
                      <div class="col my-1"><button class="btn btn-primary btn-sm" onclick="saveHueSettings()">Save Hue Settings</button></div>
                  </div>
              </div>
          </div>                        
          <div id="about">
              <div class="card my-4">
                  <div class="card-header">About</div>
                  <div class="card-body">
                      <ul class="list-unstyled" id="aboutText">
                          <li id="aboutBotVersion">VariBot</li>
                          <hr />
                          <li id="aboutSoundsLoaded">Random sounds loaded:</li>
                          <li id="aboutChannelRewardsLoaded">Channel reward sounds loaded:</li>
                          <li id="aboutGoogleCredsLoaded">Google creds file loaded:</li>
                          <hr />
                          <li id="aboutChatBotStatus">Chat bot status:</li>
                          <li id="aboutPubsubStatus">Pubsub status:</li>
                      </ul>
                  </div>
              </div>
              <div class="card my-4">
                  <div class="card-header">Status</div>
                  <div class="card-body" style="height:125px; overflow:auto;" id="statusBox"></div>
              </div>                        
              <div class="text-muted">
                  <small>Theme based on <a class="text-decoration-none" href="https://mdbootstrap.com/freebies/dark-theme/" target="_blank" rel="noreferrer">MDB Dark Theme</a></small><br />
                  <small>Twitch chat uses tmi.js <a class="text-decoration-none" href="https://github.com/tmijs" target="_blank" rel="noreferrer">tmi.js</a></small>    
              </span>                    
          </div>
      </div>
  </main>
  <footer class="py-3 mt-auto">
    <div class="container-fluid px-4">
        <div class="d-flex justify-content-center text-muted">
            <small id="footerText"></small>
        </div>
        <!-- <div class="d-flex align-items-center justify-content-between small">
            <div class="text-muted">Copyright &copy; Your Website 2021</div>
            <div>
                <a href="#">Privacy Policy</a>
                &middot;
                <a href="#">Terms &amp; Conditions</a>
            </div>
        </div> -->
    </div>
</footer>



    <!-- End your project here-->

    <!-- MDB -->
    <script type="text/javascript" src="js/mdb.min.js"></script>
    <!-- Custom scripts -->
    <!-- <script type="text/javascript"></script> -->
    <script src="../render.js" async defer></script>             
  </body>
</html>
